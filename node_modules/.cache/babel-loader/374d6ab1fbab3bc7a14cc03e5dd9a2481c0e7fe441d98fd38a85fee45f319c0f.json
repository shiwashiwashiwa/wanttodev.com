{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/shiwa/Desktop/wanttodev.com/src/components/WorksSwiper.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Navigation, FreeMode, Thumbs } from \"swiper/modules\";\n// Swiper CSS\nimport \"swiper/css\";\nimport \"swiper/css/navigation\";\nimport \"swiper/css/thumbs\";\nimport \"swiper/css/free-mode\";\nimport { useWorksData } from \"../hooks/useWorksData\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function WorksSwiper() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    getWork\n  } = useWorksData();\n  const [thumbsSwiper, setThumbsSwiper] = useState(null);\n  const [validVideos, setValidVideos] = useState([]);\n  const [isChecking, setIsChecking] = useState(true);\n  const workId = id ? parseInt(id, 10) : 0;\n  const work = getWork(workId);\n\n  // 動画ファイルの存在確認\n  useEffect(() => {\n    if (!work) {\n      setIsChecking(false);\n      return;\n    }\n    const videos = work.mediaData.videos || [];\n\n    // 動画が存在しない場合は即座に非表示\n    if (!videos || videos.length === 0) {\n      setValidVideos([]);\n      setIsChecking(false);\n      return;\n    }\n\n    // 各動画ファイルの存在を確認\n    const checkVideos = async () => {\n      const videoChecks = await Promise.all(videos.map(async video => {\n        try {\n          const response = await fetch(video.src, {\n            method: \"HEAD\"\n          });\n          return response.ok ? video : null;\n        } catch {\n          return null;\n        }\n      }));\n      const existingVideos = videoChecks.filter(v => v !== null);\n      setValidVideos(existingVideos);\n      setIsChecking(false);\n    };\n    checkVideos();\n  }, [work]);\n  if (!work) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u4F5C\\u54C1\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }, this);\n  }\n\n  // チェック中は何も表示しない\n  if (isChecking) {\n    return null;\n  }\n\n  // 有効な動画が存在しない場合はスライダーを非表示\n  if (validVideos.length === 0) {\n    return null;\n  }\n  const mediaList = [...validVideos, ...(work.mediaData.images || [])];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Swiper, {\n      style: {\n        \"--swiper-navigation-color\": \"#fff\",\n        \"--swiper-pagination-color\": \"#fff\"\n      },\n      loop: true,\n      spaceBetween: 10,\n      navigation: true,\n      thumbs: {\n        swiper: thumbsSwiper\n      },\n      modules: [FreeMode, Navigation, Thumbs],\n      className: \"mySwiper2 w-full h-[80%]\",\n      children: mediaList.map((item, index) => /*#__PURE__*/_jsxDEV(SwiperSlide, {\n        children: item.type === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.src,\n          alt: `Slide ${index + 1}`,\n          className: \"w-full h-full object-contain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative w-full pb-[56.25%]\",\n          children: /*#__PURE__*/_jsxDEV(\"video\", {\n            autoPlay: true,\n            loop: true,\n            muted: true,\n            playsInline: true,\n            className: \"absolute inset-0 w-full h-full object-contain\",\n            children: /*#__PURE__*/_jsxDEV(\"source\", {\n              src: item.src,\n              type: \"video/mp4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Swiper, {\n      onSwiper: setThumbsSwiper,\n      loop: true,\n      spaceBetween: 10,\n      slidesPerView: 4,\n      freeMode: true,\n      watchSlidesProgress: true,\n      modules: [FreeMode, Navigation, Thumbs],\n      className: \"mySwiper w-full h-[20%] box-border !pt-5\",\n      children: mediaList.map((item, index) => /*#__PURE__*/_jsxDEV(SwiperSlide, {\n        children: item.type === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.src,\n          alt: `Slide ${index + 1}`,\n          className: \"w-full h-full object-contain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative w-full pb-[56.25%]\",\n          children: /*#__PURE__*/_jsxDEV(\"video\", {\n            autoPlay: true,\n            loop: true,\n            muted: true,\n            playsInline: true,\n            className: \"absolute inset-0 w-full h-full object-contain\",\n            children: /*#__PURE__*/_jsxDEV(\"source\", {\n              src: item.src,\n              type: \"video/mp4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(WorksSwiper, \"wIeXhcPJFq1rNI8nIjpBhauQmR8=\", false, function () {\n  return [useParams, useWorksData];\n});\n_c = WorksSwiper;\nvar _c;\n$RefreshReg$(_c, \"WorksSwiper\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","React","useState","useEffect","Swiper","SwiperSlide","Navigation","FreeMode","Thumbs","useWorksData","useParams","jsxDEV","_jsxDEV","Fragment","_Fragment","WorksSwiper","id","getWork","thumbsSwiper","setThumbsSwiper","validVideos","setValidVideos","isChecking","setIsChecking","workId","parseInt","work","videos","mediaData","length","checkVideos","videoChecks","Promise","all","map","video","response","fetch","src","method","ok","existingVideos","filter","v","children","fileName","lineNumber","columnNumber","mediaList","images","style","loop","spaceBetween","navigation","thumbs","swiper","modules","className","item","index","type","alt","autoPlay","muted","playsInline","onSwiper","slidesPerView","freeMode","watchSlidesProgress","_c","$RefreshReg$"],"sources":["/Users/shiwa/Desktop/wanttodev.com/src/components/WorksSwiper.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Navigation, FreeMode, Thumbs } from \"swiper/modules\";\nimport type { Swiper as SwiperType } from \"swiper\";\n\n// Swiper CSS\nimport \"swiper/css\";\nimport \"swiper/css/navigation\";\nimport \"swiper/css/thumbs\";\nimport \"swiper/css/free-mode\";\n\nimport { useWorksData } from \"../hooks/useWorksData\";\nimport { useParams } from \"react-router-dom\";\nimport { MediaItem } from \"../data/works\";\n\nexport default function WorksSwiper() {\n  const { id } = useParams<{ id: string }>();\n  const { getWork } = useWorksData();\n  const [thumbsSwiper, setThumbsSwiper] = useState<SwiperType | null>(null);\n  const [validVideos, setValidVideos] = useState<MediaItem[]>([]);\n  const [isChecking, setIsChecking] = useState(true);\n\n  const workId = id ? parseInt(id, 10) : 0;\n  const work = getWork(workId);\n\n  // 動画ファイルの存在確認\n  useEffect(() => {\n    if (!work) {\n      setIsChecking(false);\n      return;\n    }\n\n    const videos = work.mediaData.videos || [];\n    \n    // 動画が存在しない場合は即座に非表示\n    if (!videos || videos.length === 0) {\n      setValidVideos([]);\n      setIsChecking(false);\n      return;\n    }\n\n    // 各動画ファイルの存在を確認\n    const checkVideos = async () => {\n      const videoChecks = await Promise.all(\n        videos.map(async (video) => {\n          try {\n            const response = await fetch(video.src, { method: \"HEAD\" });\n            return response.ok ? video : null;\n          } catch {\n            return null;\n          }\n        })\n      );\n\n      const existingVideos = videoChecks.filter((v): v is typeof videos[0] => v !== null);\n      setValidVideos(existingVideos);\n      setIsChecking(false);\n    };\n\n    checkVideos();\n  }, [work]);\n\n  if (!work) {\n    return <div>作品が見つかりません</div>;\n  }\n\n  // チェック中は何も表示しない\n  if (isChecking) {\n    return null;\n  }\n\n  // 有効な動画が存在しない場合はスライダーを非表示\n  if (validVideos.length === 0) {\n    return null;\n  }\n\n  const mediaList = [\n    ...validVideos,\n    ...(work.mediaData.images || []),\n  ];\n  \n  return (\n    <>\n      <Swiper\n        style={\n          {\n            \"--swiper-navigation-color\": \"#fff\",\n            \"--swiper-pagination-color\": \"#fff\",\n          } as React.CSSProperties\n        }\n        loop={true}\n        spaceBetween={10}\n        navigation={true}\n        thumbs={{ swiper: thumbsSwiper }}\n        modules={[FreeMode, Navigation, Thumbs]}\n        className=\"mySwiper2 w-full h-[80%]\"\n      >\n        {mediaList.map((item, index) => (\n          <SwiperSlide key={index}>\n            {item.type === \"image\" ? (\n              <img \n                src={item.src} \n                alt={`Slide ${index + 1}`}\n                className=\"w-full h-full object-contain\"\n              />\n            ) : (\n              <div className=\"relative w-full pb-[56.25%]\">\n                <video\n                  autoPlay\n                  loop\n                  muted\n                  playsInline\n                  className=\"absolute inset-0 w-full h-full object-contain\"\n                >\n                  <source src={item.src} type=\"video/mp4\" />\n                </video>\n              </div>\n            )}\n          </SwiperSlide>\n        ))}\n      </Swiper>\n\n      <Swiper\n        onSwiper={setThumbsSwiper}\n        loop={true}\n        spaceBetween={10}\n        slidesPerView={4}\n        freeMode={true}\n        watchSlidesProgress={true}\n        modules={[FreeMode, Navigation, Thumbs]}\n        className=\"mySwiper w-full h-[20%] box-border !pt-5\"\n      >\n        {mediaList.map((item, index) => (\n          <SwiperSlide key={index}>\n            {item.type === \"image\" ? (\n              <img \n                src={item.src} \n                alt={`Slide ${index + 1}`}\n                className=\"w-full h-full object-contain\"\n              />\n            ) : (\n              <div className=\"relative w-full pb-[56.25%]\">\n                <video\n                  autoPlay\n                  loop\n                  muted\n                  playsInline\n                  className=\"absolute inset-0 w-full h-full object-contain\"\n                >\n                  <source src={item.src} type=\"video/mp4\" />\n                </video>\n              </div>\n            )}\n          </SwiperSlide>\n        ))}\n      </Swiper>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}