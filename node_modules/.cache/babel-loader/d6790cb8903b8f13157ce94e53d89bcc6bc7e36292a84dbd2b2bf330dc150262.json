{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { validateWorksData, worksData } from \"../data/works\";\nimport { worksDynamicData } from \"../data/works-dynamic\";\nimport { readFromLocalStorage, saveToLocalStorage } from \"../lib/fileUtils\";\nimport { autoGenerateWorksData } from \"../lib/worksAutoGenerator\";\nconst STORAGE_KEY = \"works-data-backup\"; // „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÁî®„Å´Â§âÊõ¥\nconst STORAGE_TIMESTAMP_KEY = \"works-data-timestamp\"; // „Çø„Ç§„É†„Çπ„Çø„É≥„ÉóÁî®\nconst CACHE_DURATION = 24 * 60 * 60 * 1000; // 24ÊôÇÈñìÔºà„Éü„É™ÁßíÔºâ\n\nexport function useWorksData() {\n  _s();\n  const [works, setWorks] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // „Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        console.log(\"üîÑ „Éá„Éº„ÇøË™≠„ÅøËæº„ÅøÈñãÂßã...\");\n        let loadedWorks = [];\n        let shouldAutoGenerate = false;\n\n        // „Åæ„Åö„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Çí„ÉÅ„Çß„ÉÉ„ÇØ\n        const backupData = readFromLocalStorage(STORAGE_KEY);\n        const timestamp = localStorage.getItem(STORAGE_TIMESTAMP_KEY);\n        const now = Date.now();\n        const isCacheValid = timestamp && now - parseInt(timestamp, 10) < CACHE_DURATION;\n        console.log(\"„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Éá„Éº„Çø:\", backupData.length, \"‰ª∂\");\n        if (backupData.length > 0 && isCacheValid) {\n          console.log(\"üíæ „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Åã„ÇâÂæ©ÂÖÉ„Åó„Åæ„ÅôÔºà„Ç≠„É£„ÉÉ„Ç∑„É•ÊúâÂäπÔºâ:\", backupData.length, \"‰ª∂\");\n          const validData = backupData.filter(validateWorksData);\n          console.log(\"„Éê„É™„Éá„Éº„Ç∑„Éß„É≥Âæå„ÅÆ„Éá„Éº„Çø‰ª∂Êï∞:\", validData.length, \"‰ª∂\");\n          loadedWorks = validData;\n          // „Ç≠„É£„ÉÉ„Ç∑„É•„ÅåÊúâÂäπ„Å™Â†¥Âêà„ÅØËá™ÂãïÁîüÊàê„Çí„Çπ„Ç≠„ÉÉ„Éó\n          shouldAutoGenerate = false;\n        } else if (backupData.length > 0) {\n          console.log(\"üíæ „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Åã„ÇâÂæ©ÂÖÉ„Åó„Åæ„ÅôÔºà„Ç≠„É£„ÉÉ„Ç∑„É•ÊúüÈôêÂàá„ÇåÔºâ:\", backupData.length, \"‰ª∂\");\n          const validData = backupData.filter(validateWorksData);\n          console.log(\"„Éê„É™„Éá„Éº„Ç∑„Éß„É≥Âæå„ÅÆ„Éá„Éº„Çø‰ª∂Êï∞:\", validData.length, \"‰ª∂\");\n          loadedWorks = validData;\n          // „Ç≠„É£„ÉÉ„Ç∑„É•„ÅåÊúüÈôêÂàá„Çå„ÅÆÂ†¥Âêà„ÅØËá™ÂãïÁîüÊàê„ÇíÂÆüË°åÔºàËªΩÈáèÁâàÔºâ\n          shouldAutoGenerate = true;\n        } else {\n          console.log(\"üìã „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´„Éá„Éº„Çø„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\");\n          console.log(\"TypeScript„Éï„Ç°„Ç§„É´„Åã„ÇâË™≠„ÅøËæº„Åø„Åæ„Åô...\");\n\n          // TypeScript„Éï„Ç°„Ç§„É´„Åã„ÇâÁõ¥Êé•Ë™≠„ÅøËæº„Åø\n          const validData = worksDynamicData.filter(validateWorksData);\n          console.log(\"‚úÖ TypeScript„Éï„Ç°„Ç§„É´„Åã„Çâ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü:\", validData.length, \"‰ª∂\");\n          loadedWorks = validData;\n          // ÂàùÂõûË™≠„ÅøËæº„ÅøÊôÇ„ÅØËá™ÂãïÁîüÊàê„ÇíÂÆüË°å\n          shouldAutoGenerate = true;\n        }\n        let mergedWorks = loadedWorks;\n\n        // Ëá™ÂãïÁîüÊàêÊ©üËÉΩ: ÂøÖË¶Å„Å™Â†¥Âêà„ÅÆ„ÅøÂÆüË°å\n        if (shouldAutoGenerate) {\n          console.log(\"üîç Ëá™ÂãïÁîüÊàêÂá¶ÁêÜ„ÇíÂÆüË°å„Åó„Åæ„Åô...\");\n          mergedWorks = await autoGenerateWorksData(loadedWorks);\n\n          // „Çø„Ç§„É†„Çπ„Çø„É≥„Éó„Çí‰øùÂ≠ò\n          localStorage.setItem(STORAGE_TIMESTAMP_KEY, now.toString());\n        } else {\n          console.log(\"‚ö° „Ç≠„É£„ÉÉ„Ç∑„É•„ÅåÊúâÂäπ„Å™„Åü„ÇÅ„ÄÅËá™ÂãïÁîüÊàêÂá¶ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åó„Åæ„Åô\");\n        }\n\n        // „Éá„Éº„Çø„ÇíË®≠ÂÆö\n        setWorks(mergedWorks);\n\n        // Ëá™ÂãïÁîüÊàê„Åï„Çå„Åü„Éá„Éº„Çø„Åå„ÅÇ„ÇãÂ†¥Âêà„ÄÅ„Åæ„Åü„ÅØÂàùÂõûË™≠„ÅøËæº„ÅøÊôÇ„ÅØ„ÄÅ„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò\n        if (mergedWorks.length > loadedWorks.length || backupData.length === 0) {\n          if (mergedWorks.length > loadedWorks.length) {\n            console.log(`üÜï ${mergedWorks.length - loadedWorks.length}‰ª∂„ÅÆÊñ∞Ë¶èworks„Éá„Éº„Çø„ÅåËá™ÂãïÁîüÊàê„Åï„Çå„Åæ„Åó„Åü`);\n          }\n          saveToLocalStorage(STORAGE_KEY, mergedWorks);\n          localStorage.setItem(STORAGE_TIMESTAMP_KEY, Date.now().toString());\n        }\n      } catch (error) {\n        console.error(\"‚ùå „Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:\", error);\n        console.log(\"ÂàùÊúü„Éá„Éº„Çø„Çí‰ΩøÁî®„Åó„Åæ„Åô\");\n        // „Ç®„É©„Éº„ÅÆÂ†¥Âêà„ÅØÂàùÊúü„Éá„Éº„Çø„Çí‰ΩøÁî®\n        setWorks(worksData);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadData();\n  }, []);\n\n  // „Éá„Éº„Çø„Çí‰øùÂ≠ò\n  const saveWorks = async newWorks => {\n    try {\n      console.log(\"üíæ „Éá„Éº„Çø„Çí‰øùÂ≠ò‰∏≠...\", newWorks.length, \"‰ª∂\");\n\n      // „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´Âç≥Â∫ß„Å´‰øùÂ≠òÔºàUIÊõ¥Êñ∞Ôºâ\n      const success = saveToLocalStorage(STORAGE_KEY, newWorks);\n      if (success) {\n        console.log(\"‚úÖ „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠òÂÆå‰∫Ü\");\n        setWorks(newWorks);\n      } else {\n        console.error(\"‚ùå „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å∏„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\");\n      }\n    } catch (error) {\n      console.error(\"‚ùå „Éá„Éº„Çø„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:\", error);\n    }\n  };\n\n  // „Éá„Éº„Çø„ÇíËøΩÂä†\n  const addWork = async newWork => {\n    const updatedWorks = [...works, newWork];\n    await saveWorks(updatedWorks);\n  };\n\n  // „Éá„Éº„Çø„ÇíÊõ¥Êñ∞\n  const updateWork = async (id, updatedWork) => {\n    const updatedWorks = works.map(work => work.id === id ? updatedWork : work);\n    await saveWorks(updatedWorks);\n  };\n\n  // „Éá„Éº„Çø„ÇíÂâäÈô§\n  const deleteWork = async id => {\n    const updatedWorks = works.filter(work => work.id !== id);\n    await saveWorks(updatedWorks);\n  };\n\n  // „Éá„Éº„Çø„Çí„É™„Çª„ÉÉ„ÉàÔºàÂàùÊúü„Éá„Éº„Çø„Å´Êàª„ÅôÔºâ\n  const resetWorks = async () => {\n    await saveWorks(worksData);\n  };\n\n  // ÁâπÂÆö„ÅÆ‰ΩúÂìÅ„ÇíÂèñÂæó\n  const getWork = id => {\n    return works.find(work => work.id === id);\n  };\n\n  // ÁîªÂÉè„Éï„Ç©„É´„ÉÄ„ÇíÂÜç„Çπ„Ç≠„É£„É≥„Åó„Å¶Êñ∞Ë¶èworks„Éá„Éº„Çø„ÇíËøΩÂä†\n  const rescanWorksFolders = async () => {\n    try {\n      console.log(\"üîç ÁîªÂÉè„Éï„Ç©„É´„ÉÄ„ÇíÂÜç„Çπ„Ç≠„É£„É≥‰∏≠...\");\n      setIsLoading(true);\n\n      // ÁèæÂú®„ÅÆworks„Éá„Éº„Çø„ÇíÂèñÂæóÔºà„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Åã„ÇâÁ¢∫ÂÆü„Å´ÂèñÂæóÔºâ\n      let currentWorks = [];\n      const backupData = readFromLocalStorage(STORAGE_KEY);\n      if (backupData.length > 0) {\n        currentWorks = backupData.filter(validateWorksData);\n      } else {\n        // „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´„Å™„ÅÑÂ†¥Âêà„ÅØTypeScript„Éï„Ç°„Ç§„É´„Åã„ÇâË™≠„ÅøËæº„Åø\n        const validData = worksDynamicData.filter(validateWorksData);\n        currentWorks = validData;\n      }\n      console.log(`üìä ÁèæÂú®„ÅÆworks„Éá„Éº„Çø: ${currentWorks.length}‰ª∂`);\n\n      // Ëá™ÂãïÁîüÊàêÊ©üËÉΩ„ÇíÂÆüË°å\n      const mergedWorks = await autoGenerateWorksData(currentWorks);\n\n      // „Éá„Éº„Çø„ÇíË®≠ÂÆö\n      setWorks(mergedWorks);\n\n      // „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò\n      saveToLocalStorage(STORAGE_KEY, mergedWorks);\n      const newCount = mergedWorks.length - currentWorks.length;\n      if (newCount > 0) {\n        console.log(`‚úÖ ${newCount}‰ª∂„ÅÆÊñ∞Ë¶èworks„Éá„Éº„Çø„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü`);\n        alert(`${newCount}‰ª∂„ÅÆÊñ∞Ë¶èworks„Éá„Éº„Çø„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü`);\n      } else {\n        console.log(\"‚ÑπÔ∏è Êñ∞Ë¶è„ÅÆworks„Éá„Éº„Çø„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü\");\n        alert(\"Êñ∞Ë¶è„ÅÆworks„Éá„Éº„Çø„ÅØË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü\");\n      }\n    } catch (error) {\n      console.error(\"‚ùå ÂÜç„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:\", error);\n      alert(\"ÂÜç„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„Ç≥„É≥„ÇΩ„Éº„É´„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return {\n    works,\n    isLoading,\n    saveWorks,\n    addWork,\n    updateWork,\n    deleteWork,\n    resetWorks,\n    getWork,\n    rescanWorksFolders\n  };\n}\n_s(useWorksData, \"ur/+y9NuI/6fT246hxzmfgv9QtU=\");","map":{"version":3,"names":["useState","useEffect","validateWorksData","worksData","worksDynamicData","readFromLocalStorage","saveToLocalStorage","autoGenerateWorksData","STORAGE_KEY","STORAGE_TIMESTAMP_KEY","CACHE_DURATION","useWorksData","_s","works","setWorks","isLoading","setIsLoading","loadData","console","log","loadedWorks","shouldAutoGenerate","backupData","timestamp","localStorage","getItem","now","Date","isCacheValid","parseInt","length","validData","filter","mergedWorks","setItem","toString","error","saveWorks","newWorks","success","addWork","newWork","updatedWorks","updateWork","id","updatedWork","map","work","deleteWork","resetWorks","getWork","find","rescanWorksFolders","currentWorks","newCount","alert"],"sources":["/Users/shiwa/Desktop/wanttodev.com/src/hooks/useWorksData.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Works, validateWorksData, worksData } from \"../data/works\";\nimport { worksDynamicData } from \"../data/works-dynamic\";\nimport { readFromLocalStorage, saveToLocalStorage } from \"../lib/fileUtils\";\nimport { autoGenerateWorksData } from \"../lib/worksAutoGenerator\";\n\nconst STORAGE_KEY = \"works-data-backup\"; // „Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„ÉóÁî®„Å´Â§âÊõ¥\nconst STORAGE_TIMESTAMP_KEY = \"works-data-timestamp\"; // „Çø„Ç§„É†„Çπ„Çø„É≥„ÉóÁî®\nconst CACHE_DURATION = 24 * 60 * 60 * 1000; // 24ÊôÇÈñìÔºà„Éü„É™ÁßíÔºâ\n\nexport function useWorksData() {\n  const [works, setWorks] = useState<Works[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // „Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        console.log(\"üîÑ „Éá„Éº„ÇøË™≠„ÅøËæº„ÅøÈñãÂßã...\");\n\n        let loadedWorks: Works[] = [];\n        let shouldAutoGenerate = false;\n\n        // „Åæ„Åö„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Çí„ÉÅ„Çß„ÉÉ„ÇØ\n        const backupData = readFromLocalStorage(STORAGE_KEY);\n        const timestamp = localStorage.getItem(STORAGE_TIMESTAMP_KEY);\n        const now = Date.now();\n        const isCacheValid = timestamp && (now - parseInt(timestamp, 10)) < CACHE_DURATION;\n\n        console.log(\"„Éê„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Éá„Éº„Çø:\", backupData.length, \"‰ª∂\");\n\n        if (backupData.length > 0 && isCacheValid) {\n          console.log(\n            \"üíæ „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Åã„ÇâÂæ©ÂÖÉ„Åó„Åæ„ÅôÔºà„Ç≠„É£„ÉÉ„Ç∑„É•ÊúâÂäπÔºâ:\",\n            backupData.length,\n            \"‰ª∂\"\n          );\n          const validData = backupData.filter(validateWorksData);\n          console.log(\"„Éê„É™„Éá„Éº„Ç∑„Éß„É≥Âæå„ÅÆ„Éá„Éº„Çø‰ª∂Êï∞:\", validData.length, \"‰ª∂\");\n          loadedWorks = validData;\n          // „Ç≠„É£„ÉÉ„Ç∑„É•„ÅåÊúâÂäπ„Å™Â†¥Âêà„ÅØËá™ÂãïÁîüÊàê„Çí„Çπ„Ç≠„ÉÉ„Éó\n          shouldAutoGenerate = false;\n        } else if (backupData.length > 0) {\n          console.log(\n            \"üíæ „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Åã„ÇâÂæ©ÂÖÉ„Åó„Åæ„ÅôÔºà„Ç≠„É£„ÉÉ„Ç∑„É•ÊúüÈôêÂàá„ÇåÔºâ:\",\n            backupData.length,\n            \"‰ª∂\"\n          );\n          const validData = backupData.filter(validateWorksData);\n          console.log(\"„Éê„É™„Éá„Éº„Ç∑„Éß„É≥Âæå„ÅÆ„Éá„Éº„Çø‰ª∂Êï∞:\", validData.length, \"‰ª∂\");\n          loadedWorks = validData;\n          // „Ç≠„É£„ÉÉ„Ç∑„É•„ÅåÊúüÈôêÂàá„Çå„ÅÆÂ†¥Âêà„ÅØËá™ÂãïÁîüÊàê„ÇíÂÆüË°åÔºàËªΩÈáèÁâàÔºâ\n          shouldAutoGenerate = true;\n        } else {\n          console.log(\"üìã „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´„Éá„Éº„Çø„Åå„ÅÇ„Çä„Åæ„Åõ„Çì\");\n          console.log(\"TypeScript„Éï„Ç°„Ç§„É´„Åã„ÇâË™≠„ÅøËæº„Åø„Åæ„Åô...\");\n\n          // TypeScript„Éï„Ç°„Ç§„É´„Åã„ÇâÁõ¥Êé•Ë™≠„ÅøËæº„Åø\n          const validData = worksDynamicData.filter(validateWorksData);\n          console.log(\n            \"‚úÖ TypeScript„Éï„Ç°„Ç§„É´„Åã„Çâ„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü:\",\n            validData.length,\n            \"‰ª∂\"\n          );\n          loadedWorks = validData;\n          // ÂàùÂõûË™≠„ÅøËæº„ÅøÊôÇ„ÅØËá™ÂãïÁîüÊàê„ÇíÂÆüË°å\n          shouldAutoGenerate = true;\n        }\n\n        let mergedWorks = loadedWorks;\n\n        // Ëá™ÂãïÁîüÊàêÊ©üËÉΩ: ÂøÖË¶Å„Å™Â†¥Âêà„ÅÆ„ÅøÂÆüË°å\n        if (shouldAutoGenerate) {\n          console.log(\"üîç Ëá™ÂãïÁîüÊàêÂá¶ÁêÜ„ÇíÂÆüË°å„Åó„Åæ„Åô...\");\n          mergedWorks = await autoGenerateWorksData(loadedWorks);\n          \n          // „Çø„Ç§„É†„Çπ„Çø„É≥„Éó„Çí‰øùÂ≠ò\n          localStorage.setItem(STORAGE_TIMESTAMP_KEY, now.toString());\n        } else {\n          console.log(\"‚ö° „Ç≠„É£„ÉÉ„Ç∑„É•„ÅåÊúâÂäπ„Å™„Åü„ÇÅ„ÄÅËá™ÂãïÁîüÊàêÂá¶ÁêÜ„Çí„Çπ„Ç≠„ÉÉ„Éó„Åó„Åæ„Åô\");\n        }\n\n        // „Éá„Éº„Çø„ÇíË®≠ÂÆö\n        setWorks(mergedWorks);\n\n        // Ëá™ÂãïÁîüÊàê„Åï„Çå„Åü„Éá„Éº„Çø„Åå„ÅÇ„ÇãÂ†¥Âêà„ÄÅ„Åæ„Åü„ÅØÂàùÂõûË™≠„ÅøËæº„ÅøÊôÇ„ÅØ„ÄÅ„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò\n        if (mergedWorks.length > loadedWorks.length || backupData.length === 0) {\n          if (mergedWorks.length > loadedWorks.length) {\n            console.log(\n              `üÜï ${mergedWorks.length - loadedWorks.length}‰ª∂„ÅÆÊñ∞Ë¶èworks„Éá„Éº„Çø„ÅåËá™ÂãïÁîüÊàê„Åï„Çå„Åæ„Åó„Åü`\n            );\n          }\n          saveToLocalStorage(STORAGE_KEY, mergedWorks);\n          localStorage.setItem(STORAGE_TIMESTAMP_KEY, Date.now().toString());\n        }\n      } catch (error) {\n        console.error(\"‚ùå „Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:\", error);\n        console.log(\"ÂàùÊúü„Éá„Éº„Çø„Çí‰ΩøÁî®„Åó„Åæ„Åô\");\n        // „Ç®„É©„Éº„ÅÆÂ†¥Âêà„ÅØÂàùÊúü„Éá„Éº„Çø„Çí‰ΩøÁî®\n        setWorks(worksData);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadData();\n  }, []);\n\n  // „Éá„Éº„Çø„Çí‰øùÂ≠ò\n  const saveWorks = async (newWorks: Works[]) => {\n    try {\n      console.log(\"üíæ „Éá„Éº„Çø„Çí‰øùÂ≠ò‰∏≠...\", newWorks.length, \"‰ª∂\");\n\n      // „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´Âç≥Â∫ß„Å´‰øùÂ≠òÔºàUIÊõ¥Êñ∞Ôºâ\n      const success = saveToLocalStorage(STORAGE_KEY, newWorks);\n      if (success) {\n        console.log(\"‚úÖ „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠òÂÆå‰∫Ü\");\n        setWorks(newWorks);\n      } else {\n        console.error(\"‚ùå „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å∏„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü\");\n      }\n    } catch (error) {\n      console.error(\"‚ùå „Éá„Éº„Çø„ÅÆ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:\", error);\n    }\n  };\n\n  // „Éá„Éº„Çø„ÇíËøΩÂä†\n  const addWork = async (newWork: Works) => {\n    const updatedWorks = [...works, newWork];\n    await saveWorks(updatedWorks);\n  };\n\n  // „Éá„Éº„Çø„ÇíÊõ¥Êñ∞\n  const updateWork = async (id: number, updatedWork: Works) => {\n    const updatedWorks = works.map((work) =>\n      work.id === id ? updatedWork : work\n    );\n    await saveWorks(updatedWorks);\n  };\n\n  // „Éá„Éº„Çø„ÇíÂâäÈô§\n  const deleteWork = async (id: number) => {\n    const updatedWorks = works.filter((work) => work.id !== id);\n    await saveWorks(updatedWorks);\n  };\n\n  // „Éá„Éº„Çø„Çí„É™„Çª„ÉÉ„ÉàÔºàÂàùÊúü„Éá„Éº„Çø„Å´Êàª„ÅôÔºâ\n  const resetWorks = async () => {\n    await saveWorks(worksData);\n  };\n\n  // ÁâπÂÆö„ÅÆ‰ΩúÂìÅ„ÇíÂèñÂæó\n  const getWork = (id: number): Works | undefined => {\n    return works.find((work) => work.id === id);\n  };\n\n  // ÁîªÂÉè„Éï„Ç©„É´„ÉÄ„ÇíÂÜç„Çπ„Ç≠„É£„É≥„Åó„Å¶Êñ∞Ë¶èworks„Éá„Éº„Çø„ÇíËøΩÂä†\n  const rescanWorksFolders = async () => {\n    try {\n      console.log(\"üîç ÁîªÂÉè„Éï„Ç©„É´„ÉÄ„ÇíÂÜç„Çπ„Ç≠„É£„É≥‰∏≠...\");\n      setIsLoading(true);\n      \n      // ÁèæÂú®„ÅÆworks„Éá„Éº„Çø„ÇíÂèñÂæóÔºà„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Åã„ÇâÁ¢∫ÂÆü„Å´ÂèñÂæóÔºâ\n      let currentWorks: Works[] = [];\n      const backupData = readFromLocalStorage(STORAGE_KEY);\n      \n      if (backupData.length > 0) {\n        currentWorks = backupData.filter(validateWorksData);\n      } else {\n        // „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´„Å™„ÅÑÂ†¥Âêà„ÅØTypeScript„Éï„Ç°„Ç§„É´„Åã„ÇâË™≠„ÅøËæº„Åø\n        const validData = worksDynamicData.filter(validateWorksData);\n        currentWorks = validData;\n      }\n      \n      console.log(`üìä ÁèæÂú®„ÅÆworks„Éá„Éº„Çø: ${currentWorks.length}‰ª∂`);\n      \n      // Ëá™ÂãïÁîüÊàêÊ©üËÉΩ„ÇíÂÆüË°å\n      const mergedWorks = await autoGenerateWorksData(currentWorks);\n      \n      // „Éá„Éº„Çø„ÇíË®≠ÂÆö\n      setWorks(mergedWorks);\n      \n      // „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò\n      saveToLocalStorage(STORAGE_KEY, mergedWorks);\n      \n      const newCount = mergedWorks.length - currentWorks.length;\n      if (newCount > 0) {\n        console.log(`‚úÖ ${newCount}‰ª∂„ÅÆÊñ∞Ë¶èworks„Éá„Éº„Çø„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü`);\n        alert(`${newCount}‰ª∂„ÅÆÊñ∞Ë¶èworks„Éá„Éº„Çø„ÅåËøΩÂä†„Åï„Çå„Åæ„Åó„Åü`);\n      } else {\n        console.log(\"‚ÑπÔ∏è Êñ∞Ë¶è„ÅÆworks„Éá„Éº„Çø„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü\");\n        alert(\"Êñ∞Ë¶è„ÅÆworks„Éá„Éº„Çø„ÅØË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü\");\n      }\n    } catch (error) {\n      console.error(\"‚ùå ÂÜç„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:\", error);\n      alert(\"ÂÜç„Çπ„Ç≠„É£„É≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„Ç≥„É≥„ÇΩ„Éº„É´„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return {\n    works,\n    isLoading,\n    saveWorks,\n    addWork,\n    updateWork,\n    deleteWork,\n    resetWorks,\n    getWork,\n    rescanWorksFolders,\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}